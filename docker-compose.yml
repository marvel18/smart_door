version: '2'

volumes:
  shared_folder:./data/appdata:/usr/src/appdata
services:
  server:
    build: ./App/server
    restart: on-failure
    privileged: true
    network_mode: host
    ports:
        - 8501:8501
    volumes:
      - shared_folder:/usr/src/appdata
  smart_lock:
    build: ./App/smart_lock
    restart: on-failure
    privileged: true
    network_mode: host
    volumes:
        - shared_folder:/usr/src/appdata
  auto_sanitize:
    build: ./App/auto_sanitize
    restart: on-failure
    privileged: true
    network_mode: host
    volumes:
      - shared_folder:/usr/src/appdata